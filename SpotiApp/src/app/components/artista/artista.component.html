<app-loading *ngIf="loading"></app-loading>

<div class="row animated fadeIn" *ngIf="!loading">
  <div class="col-2">
    <img [src]="artista.images | noimage" class="img-thumbnail img-circle" />
  </div>
  <div class="col">
    <h3>
      {{ artista.name }}
    </h3>
    <p>
      <!-- Seguidores: {{ artista.followers.total | number }} -->
      <br />
      <a [href]="artista['external_urls'['spotify']]" target="_blank">
        Ver Perfil
      </a>
    </p>
  </div>
  <div class="col-4 text-right mt-5">
    <button class="btn btn-outline-success text-right" routerLink="/buscar">
      Regresar
    </button>
  </div>
</div>
<hr class="separador" />

<h2>Canciones</h2>
<hr />
<div class="row m-4 canciones">
  <div class="col">
    <table class="table">
      <thead>
        <tr>
          <th>Portada</th>
          <th>Album</th>
          <th>Cancion</th>
          <th>Vista Previa</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let track of topTracks">
          <td>
            <img [src]="track.album.images | noimage" class="img-rect" alt="" />
          </td>
          <td>
            <p>{{ track.album.name }}</p>
          </td>
          <td>
            <p>{{ track.name }}</p>
          </td>
          <td>
            <iframe
              [src]="track.uri | domseguro"
              width="300"
              height="80"
              frameborder="0"
              allowtransparency="true"
              allow="encrypted-media"
            >
            </iframe>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<h2>Albums</h2>
<hr />

<div class="row album animated fadeIn" *ngFor="let album of albums">
  <div class="col">
    <div class="row">
      <div class="col-2">
        <img [src]="album.images | noimage" class="img-rect" />
      </div>
      <div class="col">
        <h3>
          {{ album.name }}
        </h3>
        <p>
          {{ album.total_tracks }} Canciones
          <br />
        </p>
      </div>
      <div class="col">
        <iframe
          [src]="album.uri | domseguro"
          width="300"
          height="380"
          frameborder="0"
          allowtransparency="true"
          allow="encrypted-media"
        ></iframe>
      </div>
    </div>
    <hr class="separador" />
  </div>
  <hr />
</div>
